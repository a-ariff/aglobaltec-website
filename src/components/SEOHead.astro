---
// SEOHead.astro - Comprehensive SEO component with meta tags, Open Graph, and Schema markup
// Optimized for Azure expertise and cloud solutions

interface Props {
  title?: string;
  description?: string;
  image?: string;
  type?: 'website' | 'article' | 'profile';
  author?: string;
  publishedTime?: string;
  modifiedTime?: string;
  keywords?: string[];
  structuredData?: object;
}

const {
  title = 'Ariff - Azure Cloud Solutions Engineer | Cybersecurity Expert',
  description = 'Professional cloud solutions engineer specializing in Microsoft Azure, cybersecurity, and enterprise security architecture. MIT Cybersecurity student with expertise in Azure Security, Identity & Access Management, and cloud infrastructure.',
  image = '/images/ariff-azure-expert.jpg',
  type = 'website',
  author = 'Ariff',
  publishedTime,
  modifiedTime,
  keywords = [
    'Azure Cloud Engineer',
    'Microsoft Azure',
    'Cloud Security',
    'Cybersecurity',
    'Azure Security',
    'Identity Access Management',
    'Cloud Architecture',
    'MIT Cybersecurity',
    'Enterprise Security',
    'Cloud Solutions',
    'Azure DevOps',
    'Infrastructure as Code',
    'Zero Trust Security',
    'Cloud Migration'
  ],
  structuredData
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const fullImageUrl = new URL(image, Astro.site);
const siteName = 'Ariff - Azure Cloud Solutions';
const twitterHandle = '@ariff';

// Default structured data for professional profile
const defaultStructuredData = {
  '@context': 'https://schema.org',
  '@type': 'Person',
  'name': 'Ariff',
  'jobTitle': 'Cloud Solutions Engineer',
  'description': description,
  'url': canonicalURL.toString(),
  'image': fullImageUrl.toString(),
  'sameAs': [
    'https://linkedin.com/in/ariff',
    'https://github.com/a-ariff',
  ],
  'knowsAbout': [
    'Microsoft Azure',
    'Cloud Security',
    'Cybersecurity',
    'Identity and Access Management',
    'Cloud Architecture',
    'Azure DevOps',
    'Enterprise Security'
  ],
  'alumniOf': {
    '@type': 'EducationalOrganization',
    'name': 'MIT',
    'sameAs': 'https://www.mit.edu/'
  },
  'hasCredential': {
    '@type': 'EducationalOccupationalCredential',
    'name': 'Cybersecurity',
    'credentialCategory': 'degree',
    'educationalLevel': 'graduate'
  },
  'workLocation': {
    '@type': 'Place',
    'name': 'Remote/Global'
  },
  'expertise': [
    {
      '@type': 'DefinedTerm',
      'name': 'Microsoft Azure',
      'description': 'Cloud platform expertise including compute, storage, networking, and security services'
    },
    {
      '@type': 'DefinedTerm',
      'name': 'Cloud Security',
      'description': 'Security architecture and implementation for cloud environments'
    },
    {
      '@type': 'DefinedTerm',
      'name': 'Identity & Access Management',
      'description': 'Azure Active Directory, conditional access, and identity governance'
    }
  ]
};

const finalStructuredData = structuredData || defaultStructuredData;
---

<!-- Enhanced Meta Tags for Azure Expertise -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="generator" content={Astro.generator} />

<!-- SEO Meta Tags -->
<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />
<meta name="keywords" content={keywords.join(', ')} />
<meta name="author" content={author} />
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
<meta name="googlebot" content="index, follow" />
<link rel="canonical" href={canonicalURL} />

<!-- Professional/Business Meta Tags -->
<meta name="rating" content="General" />
<meta name="revisit-after" content="7 days" />
<meta name="language" content="English" />
<meta name="geo.region" content="Global" />
<meta name="geo.placename" content="Remote" />
<meta name="profession" content="Cloud Solutions Engineer" />
<meta name="specialization" content="Microsoft Azure, Cybersecurity" />

<!-- Open Graph / Facebook -->
<meta property="og:type" content={type} />
<meta property="og:site_name" content={siteName} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:url" content={canonicalURL} />
<meta property="og:image" content={fullImageUrl} />
<meta property="og:image:secure_url" content={fullImageUrl} />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:image:alt" content="Ariff - Azure Cloud Solutions Engineer" />
<meta property="og:locale" content="en_US" />
{publishedTime && <meta property="article:published_time" content={publishedTime} />}
{modifiedTime && <meta property="article:modified_time" content={modifiedTime} />}
{author && <meta property="article:author" content={author} />}
<meta property="article:section" content="Technology" />
<meta property="article:tag" content="Azure,Cloud Computing,Cybersecurity" />

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content={twitterHandle} />
<meta name="twitter:creator" content={twitterHandle} />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={fullImageUrl} />
<meta name="twitter:image:alt" content="Ariff - Azure Cloud Solutions Engineer" />
<meta name="twitter:domain" content={Astro.site?.hostname} />

<!-- LinkedIn Specific -->
<meta property="og:type" content="profile" />
<meta property="profile:first_name" content="Ariff" />
<meta property="profile:username" content="ariff" />

<!-- Technical SEO -->
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="format-detection" content="telephone=no" />
<meta name="theme-color" content="#0078d4" />
<meta name="msapplication-TileColor" content="#0078d4" />
<meta name="msapplication-config" content="/browserconfig.xml" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="icon" type="image/png" href="/favicon.png" />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0078d4" />

<!-- Preconnect to external domains for performance -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="preconnect" href="https://www.google-analytics.com" />
<link rel="dns-prefetch" href="//www.linkedin.com" />
<link rel="dns-prefetch" href="//github.com" />

<!-- Structured Data (JSON-LD) -->
<script type="application/ld+json" set:html={JSON.stringify(finalStructuredData)} />

<!-- Additional Azure/Cloud-specific structured data -->
<script type="application/ld+json" set:html={JSON.stringify({
  '@context': 'https://schema.org',
  '@type': 'WebSite',
  'name': siteName,
  'url': Astro.site?.toString(),
  'description': 'Professional website of Ariff, specializing in Microsoft Azure cloud solutions and cybersecurity',
  'potentialAction': {
    '@type': 'SearchAction',
    'target': {
      '@type': 'EntryPoint',
      'urlTemplate': `${Astro.site?.toString()}search?q={search_term_string}`
    },
    'query-input': 'required name=search_term_string'
  },
  'mainEntity': {
    '@type': 'Person',
    'name': 'Ariff',
    'jobTitle': 'Cloud Solutions Engineer',
    'worksFor': {
      '@type': 'Organization',
      'name': 'Microsoft Azure Partner'
    }
  }
})} />

<!-- Professional Organization Schema -->
<script type="application/ld+json" set:html={JSON.stringify({
  '@context': 'https://schema.org',
  '@type': 'ProfessionalService',
  'name': 'Azure Cloud Solutions',
  'description': 'Professional cloud architecture and security consulting services',
  'serviceType': 'Cloud Computing Consulting',
  'areaServed': 'Global',
  'hasOfferCatalog': {
    '@type': 'OfferCatalog',
    'name': 'Cloud Services',
    'itemListElement': [
      {
        '@type': 'Offer',
        'itemOffered': {
          '@type': 'Service',
          'name': 'Azure Architecture',
          'description': 'Cloud architecture design and implementation'
        }
      },
      {
        '@type': 'Offer',
        'itemOffered': {
          '@type': 'Service',
          'name': 'Cloud Security',
          'description': 'Security assessment and implementation for cloud environments'
        }
      },
      {
        '@type': 'Offer',
        'itemOffered': {
          '@type': 'Service',
          'name': 'Identity & Access Management',
          'description': 'Azure AD and IAM solutions'
        }
      }
    ]
  }
})} />
